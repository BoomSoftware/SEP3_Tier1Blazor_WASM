@inject NavigationManager NavigationManager


<div class="row justify-content-center login-bar content-row">
    <div class="col-5"><img class="img-fluid logo" src="/img/logo.png" width="100" height="100" alt="logo" @onclick="ShowIndexPage"/></div>
    <div class="col-5 text-right">
        <div style="display: inline-block;position:relative;z-index: 2">
            <button @onclick=RenderComponent>Login</button>
            @CustomRender
        </div>
    </div>
</div>

@code {
    
    private bool showPopup = false;
    private string popupVisibility;
    private int popupTopPosition;
    private RenderFragment CustomRender { get; set; }
    private PopupLoginBox popupLoginBox;

    /// <summary>
    /// Loads a component to a view
    /// </summary>
    private void RenderComponent()
    {
        if (!showPopup)
        {
            CustomRender = @<Animate Animation="Animations.ZoomIn">
                               <PopupLoginBox CloseComponent="ClosePopupBox"/>
                           </Animate>;
            showPopup = true;
        }
        else
        {
            CustomRender = null;
            showPopup = false;
        }
    }

    /// <summary>
    /// Close a popup login box
    /// </summary>
    public void ClosePopupBox()
    {
        CustomRender = null;
        showPopup = false;
    }

    /// <summary>
    /// Navigates to home page
    /// </summary>
    private void ShowIndexPage()
    {
        NavigationManager.NavigateTo("/");
    }

}